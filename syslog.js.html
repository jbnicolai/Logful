<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: handlers/syslog.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: handlers/syslog.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Dreamscapes\logful
 *
 * Licensed under the BSD-3-Clause license
 * For full copyright and license information, please see the LICENSE file
 *
 * @author     Robert Rossmann &lt;rr.rossmann@me.com>
 * @copyright  2014 Robert Rossmann
 * @link       https://github.com/Dreamscapes/logful
 * @license    http://choosealicense.com/licenses/BSD-3-Clause  BSD-3-Clause License
 */

'use strict';

/** @private */
var util = require('util')
  , syslogStream = require('syslog-stream')
  , GenericHandler = require('./generichandler')

module.exports = Syslog

// Extend GenericHandler
util.inherits(Syslog, GenericHandler)

/**
 * The Syslog class logs all incoming messages to, surprisingly, Syslog
 *
 * @class
 * @extends   {GenericHandler}
 * @param     {Object}  opts           Optional configuration object to override defaults
 */
function Syslog (opts) {

  // Parent constructor
  Syslog.super_.call(this, opts)

  // Allow api injection for testing
  var dest = arguments[1] ? arguments[1] : syslogStream(opts.application)

  /**
   * Log an entry to Syslog
   *
   * @param   {Logful.Entry}   entry   The information about the entry
   * @return  {Syslog}
   */
  this.log = function log (entry) {

    // Send the processed message to Syslog
    dest.log(entry.level.name, this.compileEntry(entry, this.formats.message))

    return this
  }
}

/**
 * Default formats Syslog will use when logging entries
 *
 * @type {Object}
 * @readonly
 * @property  {String}  message     Message format
 * @property  {String}  timestamp   Timestamp format
 */
Syslog.prototype.formats =
{ message: '{module}: {message}'
, timestamp: 'HH:mm:ss.SSS'
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Console.html">Console</a></li><li><a href="File.html">File</a></li><li><a href="GenericHandler.html">GenericHandler</a></li><li><a href="Logful.html">Logful</a></li><li><a href="Syslog.html">Syslog</a></li></ul><h3>Events</h3><ul><li><a href="Logful.html#event:entry">entry</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Sat Sep 13 2014 18:23:03 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
